name: ipsec_scott

label: IPSEC Config Skillet

description: Skillet Generated from 10.70.221.185 using scott_before_1.xml and scott_after_1.xml

type: panos

labels:

    collection: Unknown

variables: []

snippets:

-   name: entry-448279
    xpath: /config/devices/entry[@name="localhost.localdomain"]/network/virtual-router/entry[@name="default"]/routing-table/ip/static-route
    element: |-
        <entry name="dr">
          <nexthop>
            <ip-address>10.70.221.192</ip-address>
          </nexthop>
          <bfd>
            <profile>None</profile>
          </bfd>
          <interface>ethernet1/1</interface>
          <metric>10</metric>
          <destination>0.0.0.0/0</destination>
          <route-table>
            <unicast/>
          </route-table>
        </entry>
    cmd: set

-   name: entry-544792
    xpath: /config/devices/entry[@name="localhost.localdomain"]/vsys/entry[@name="vsys1"]/rulebase/security/rules
    element: |-
        <entry name="users to web">
          <to>
            <member>internet</member>
          </to>
          <from>
            <member>user</member>
          </from>
          <source>
            <member>any</member>
          </source>
          <destination>
            <member>any</member>
          </destination>
          <source-user>
            <member>any</member>
          </source-user>
          <category>
            <member>any</member>
          </category>
          <application>
            <member>any</member>
          </application>
          <service>
            <member>application-default</member>
          </service>
          <source-hip>
            <member>any</member>
          </source-hip>
          <destination-hip>
            <member>any</member>
          </destination-hip>
          <action>allow</action>
        </entry>
    cmd: set

-   name: entry-252600
    xpath: /config/devices/entry[@name="localhost.localdomain"]/network/interface/tunnel/units
    element: |-
        <entry name="tunnel.123">
          <comment>tunnel-from-1-2</comment>
        </entry>
    cmd: set

-   name: entry-919165
    xpath: /config/devices/entry[@name="localhost.localdomain"]/network/ike/gateway
    element: |-
        <entry name="gw-to-2">
          <authentication>
            <pre-shared-key>
              <key>-AQ==IB8jxOT5t2N4quYAvwmOtD1c4fI=8dTKnz2HiAtg/m5OOnV66g8y/66Ejfl7I+J1WFwiiS3gMVfx+DZ/gyR2x+b3fs7E</key>
            </pre-shared-key>
          </authentication>
          <protocol>
            <ikev1>
              <dpd>
                <enable>yes</enable>
              </dpd>
            </ikev1>
            <ikev2>
              <dpd>
                <enable>yes</enable>
              </dpd>
            </ikev2>
          </protocol>
          <local-address>
            <ip>10.70.221.146/24</ip>
            <interface>ethernet1/1</interface>
          </local-address>
          <protocol-common>
            <nat-traversal>
              <enable>no</enable>
            </nat-traversal>
            <fragmentation>
              <enable>no</enable>
            </fragmentation>
          </protocol-common>
          <peer-address>
            <ip>10.70.221.192</ip>
          </peer-address>
          <comment>gateway to ngfw2</comment>
        </entry>
    cmd: set

-   name: entry-374475
    xpath: /config/devices/entry[@name="localhost.localdomain"]/network/tunnel/ipsec
    element: |-
        <entry name="tunnel-to-2">
          <auto-key>
            <ike-gateway>
              <entry name="gw-to-2"/>
            </ike-gateway>
          </auto-key>
          <tunnel-monitor>
            <enable>no</enable>
          </tunnel-monitor>
          <tunnel-interface>tunnel.123</tunnel-interface>
          <comment>tunnel to ngfw 2</comment>
          <disabled>no</disabled>
        </entry>
    cmd: set

-   name: member-667275
    xpath: /config/devices/entry[@name="localhost.localdomain"]/vsys/entry[@name="vsys1"]/import/network/interface
    element: <member>tunnel.123</member>
    cmd: set

-   name: member-310398
    xpath: /config/devices/entry[@name="localhost.localdomain"]/network/virtual-router/entry[@name="default"]/interface
    element: <member>tunnel.123</member>
    cmd: set

-   name: entry-416874
    xpath: /config/devices/entry[@name="localhost.localdomain"]/network/virtual-router/entry[@name="default"]/routing-table/ip/static-route
    element: |-
        <entry name="route-to-2">
          <bfd>
            <profile>None</profile>
          </bfd>
          <interface>tunnel.123</interface>
          <metric>10</metric>
          <destination>172.31.0.64/27</destination>
          <route-table>
            <unicast/>
          </route-table>
        </entry>
    cmd: set

-   name: member-853624
    xpath: /config/devices/entry[@name="localhost.localdomain"]/vsys/entry[@name="vsys1"]/zone/entry[@name="user"]/network/layer3
    element: <member>tunnel.123</member>
    cmd: set

